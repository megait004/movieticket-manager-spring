<div
  th:fragment="modal(user)"
  class="bg-opacity-50 fixed inset-0 h-full w-full overflow-y-auto bg-gray-600"
>
  <div
    class="relative top-20 mx-auto w-96 rounded-md border bg-white p-5 shadow-lg"
  >
    <div class="mt-3">
      <h3 class="text-lg leading-6 font-medium text-gray-900">
        Chỉnh Sửa Người Dùng
      </h3>
      <form class="mt-4" hx-post="/api/profile/update" hx-target="#message-div">
        <input type="hidden" name="uid" th:value="${user.uid}" />
        <div class="mb-4">
          <label
            for="username"
            class="mb-2 block text-sm font-bold text-gray-700"
            >Tên đăng nhập</label
          >
          <input
            id="username"
            type="text"
            th:value="${user.username}"
            class="w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow"
            disabled
          />
        </div>
        <div class="mb-4">
          <label for="email" class="mb-2 block text-sm font-bold text-gray-700"
            >Email</label
          >
          <input
            id="email"
            type="email"
            name="email"
            th:value="${user.email}"
            class="focus:shadow-outline w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none"
          />
        </div>
        <div class="mb-4">
          <label
            for="fullname"
            class="mb-2 block text-sm font-bold text-gray-700"
            >Họ và tên</label
          >
          <input
            id="fullname"
            type="text"
            name="fullname"
            th:value="${user.fullname}"
            class="focus:shadow-outline w-full appearance-none rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none"
          />
        </div>
        <div class="mb-4">
          <label for="role" class="mb-2 block text-sm font-bold text-gray-700"
            >Vai trò</label
          >
          <select
            id="role"
            name="role"
            class="focus:shadow-outline w-full rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none"
          >
            <option value="user" th:selected="${user.role == 'user'}">
              Người dùng
            </option>
            <option value="admin" th:selected="${user.role == 'admin'}">
              Quản trị
            </option>
          </select>
        </div>
        <div class="mb-4">
          <label for="active" class="mb-2 block text-sm font-bold text-gray-700"
            >Trạng thái</label
          >
          <select
            id="active"
            name="active"
            class="focus:shadow-outline w-full rounded border px-3 py-2 leading-tight text-gray-700 shadow focus:outline-none"
          >
            <option value="1" th:selected="${user.active == 1}">
              Hoạt động
            </option>
            <option value="0" th:selected="${user.active == 0}">
              Không hoạt động
            </option>
          </select>
        </div>
        <div id="message-div"></div>
        <div class="mt-4 flex items-center justify-between">
          <button
            type="submit"
            class="focus:shadow-outline rounded bg-blue-500 px-4 py-2 font-bold text-white hover:bg-blue-700 focus:outline-none"
          >
            Lưu thay đổi
          </button>
          <button
            type="button"
            class="focus:shadow-outline rounded bg-gray-500 px-4 py-2 font-bold text-white hover:bg-gray-700 focus:outline-none"
            hx-get="/admin/users"
            hx-target="body"
          >
            Hủy bỏ
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
